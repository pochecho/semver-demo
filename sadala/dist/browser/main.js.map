{"version":3,"file":"main.js","mappings":"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","sources":["webpack://@bancolombia/saiya-prince/./src/base.component.ts","webpack://@bancolombia/saiya-prince/./src/resolvers/styles/scss-styles.resolver.ts","webpack://@bancolombia/saiya-prince/./src/resolvers/styles/styles.resolver.ts","webpack://@bancolombia/saiya-prince/./src/ sync","webpack://@bancolombia/saiya-prince/./src/component-name-resolver.ts","webpack://@bancolombia/saiya-prince/webpack/bootstrap","webpack://@bancolombia/saiya-prince/webpack/runtime/hasOwnProperty shorthand","webpack://@bancolombia/saiya-prince/./src/main.ts"],"sourcesContent":["import { SCSSStylesResolver } from \"./resolvers/styles/scss-styles.resolver\";\nimport { StylesResolver } from \"./resolvers/styles/styles.resolver\";\nimport { TemplateConfiguration } from \"./resolvers/templates/interfaces/template-configuration.interface\";\n\nexport interface BaseCallback {\n  callback: Function;\n  parameters: any[];\n  context: any;\n}\n\n\n\nexport abstract class BaseComponent<Configuration> extends HTMLElement {\n  stylesResolver: StylesResolver;\n\n  pendingsCall: Array<BaseCallback>;\n  rendered: boolean;\n\n  $configuration: Configuration;\n  innerShadowDomRoot!: ShadowRoot;\n\n  generateBaseStructure: Function | undefined;\n  observedAttributesNames: Array<string>;\n  attributeListeners: any;\n\n  constructor() {\n    super();\n    this.stylesResolver = new SCSSStylesResolver();\n    this.pendingsCall = [];\n    this.rendered = false;\n    this.$configuration = {} as Configuration;\n    this.observedAttributesNames = [];\n    this.attributeListeners = {};\n  }\n\n  /**\n   * Map a array of items using a template html. The template will be mapped with the\n   * properties inside each item in items param, and then, that content will be put into the container.\n   * @param items Array of items with a open interface\n   * @param template Template to use\n   * @param selector Container where the items will be placed\n   *\n   * @example\n   *  items = [\n   *    {\n   *      name: 'loop'\n   *    },\n   *    {\n   *      name: 'boot'\n   *    }\n   *  ]\n   *\n   *  template = '<li>{name}</li>'\n   *\n   *  selector = 'div.any'\n   *\n   *  RESULT:\n   *\n   *  `<div class='any'>\n   *    <li>loop</li>\n   *    <li>boot</li>\n   *  </div>`\n   */\n  parseItemsIntoContainer(\n    items: Array<any>,\n    template: string,\n    selector: string\n  ): void {\n    const data: NodeListOf<Element>[] = this.mapItemsToTemplate(\n      items,\n      template\n    );\n    const container = this.innerShadowDomRoot.querySelector(\n      selector\n    ) as HTMLUListElement;\n    this.removeChilds(container);\n    data.forEach((x) => x.forEach((y) => container.appendChild(y)));\n  }\n\n  removeChilds(parent: HTMLElement) {\n    while (parent.lastChild) {\n      parent.removeChild(parent.lastChild);\n    }\n  }\n\n  onUpdate(attributeName: string, callback: Function) {\n    this.attributeListeners[attributeName] = { callback };\n  }\n\n  initialize() {\n    this.innerShadowDomRoot =\n      this.shadowRoot || this.attachShadow({ mode: \"open\" });\n    // const template = this.defineStyle();\n    // this.innerShadowDomRoot.appendChild(template.content.cloneNode(true));\n    !!this.generateBaseStructure ? this.generateBaseStructure() : null;\n  }\n\n  attributeChangedCallback(name: string, oldValue: any, newValue: any) {\n    const keys = Object.keys(this.attributeListeners);\n\n    if (keys.indexOf(name) >= 0) {\n      const value = this.getAttribute(name);\n      const callback = this.attributeListeners[name][\"callback\"];\n      // const kind = this.attributeListeners[name][\"kind\"];\n      // const val = value as \"array\";\n\n      callback(JSON.parse(value || \"[]\"));\n    }\n  }\n  /**\n   * Turn a string HTML into a Node HTML\n   * @param template String HTML content that is wished to convert to HTML Node\n   * @returns Template turned to Node\n   */\n  private convertTemplateToNodes(template: string): NodeListOf<Element> {\n    const domParser = new DOMParser();\n    const innerDocument: Document = domParser.parseFromString(\n      template,\n      \"text/html\"\n    );\n    const content: NodeListOf<Element> =\n      innerDocument.body.querySelectorAll(\":scope > *\");\n    return content;\n  }\n\n  mapItemsToTemplate(\n    items: Array<any>,\n    template: string\n  ): Array<NodeListOf<Element>> {\n    return items.map((x) =>\n      this.getTemplate({\n        template,\n        scope: {\n          ...x,\n        },\n      })\n    );\n  }\n\n  getTemplate(configuration: TemplateConfiguration): NodeListOf<Element> {\n    let template = null;\n    if (!!configuration.template) {\n      template = configuration.template;\n    } else if (!!configuration.path) {\n      template = require(configuration.path);\n    }\n\n    const scope = configuration.scope || {};\n\n    const variablesToFindPattern = /\\{([a-zA-Z0-9\\-]+)\\}/gm;\n    let currentlyResult = variablesToFindPattern.exec(template);\n    let transformedTemplate: string = template;\n    while (!!currentlyResult) {\n      const match = currentlyResult[0];\n      const identifier = currentlyResult[1];\n      transformedTemplate = transformedTemplate.replace(\n        match,\n        scope[identifier] || match\n      );\n      currentlyResult = variablesToFindPattern.exec(template);\n    }\n\n    return this.convertTemplateToNodes(transformedTemplate);\n  }\n\n  addBaseTemplate(configuration: TemplateConfiguration): void {\n    const baseTemplateHTML = this.getTemplate(configuration);\n    baseTemplateHTML.forEach((node: Node) => {\n      this.innerShadowDomRoot.appendChild(node);\n    });\n\n    if (!!configuration.style) {\n      this.addStyleToShadowRoot(configuration.style, this.innerShadowDomRoot);\n    }\n  }\n\n  public addStyleToShadowRoot(styles: any, shadowRoot: ShadowRoot) {\n    const formattedStyle = this.stylesResolver.formatStyles(styles);\n    const styleElement = document.createElement(\"style\");\n    styleElement.textContent = formattedStyle;\n    shadowRoot.appendChild(styleElement);\n  }\n\n  setConfiguration(configuration: any): any {\n    this.$configuration = new Proxy(\n      { ...configuration },\n      {\n        set: (target, property, value) => {\n          console.log(\"Proxy \", target[property], \" to \", value);\n\n          if (!!this.attributeListeners[property]) {\n            const observer = this.attributeListeners[property];\n            console.log(observer, value);\n\n            observer.callback(value);\n          }\n          target[property] = value;\n          return true;\n        },\n      }\n    );\n    return this.$configuration;\n  }\n}\n","import { StylesResolver } from \"./styles.resolver\";\n\nexport class SCSSStylesResolver extends StylesResolver {\n  public formatStyles(styles: any): string {\n    let stylesStr: string = styles[0][1];\n\n    stylesStr = stylesStr.replace(\"<br>\", \"\");\n    stylesStr = stylesStr.replace(\"\\n\", \"\");\n\n    return stylesStr;\n  }\n}\n","export abstract class StylesResolver {\n  abstract formatStyles(styles: any): string;\n}\n\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 4;\nmodule.exports = webpackEmptyContext;","export function resolveComponentName(prefix: string, componentClass: any) {\n  return `$prefix@-${componentClass.identifierName}`;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export { BaseComponent } from \"./base.component\";\nexport { resolveComponentName } from \"./component-name-resolver\";\n"],"names":[],"sourceRoot":""}